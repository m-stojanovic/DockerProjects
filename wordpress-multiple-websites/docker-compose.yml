version: '3'

services:
    nginx-proxy:
        image: jwilder/nginx-proxy
        container_name: nginx-proxy
        ports:
            - "80:80"
        volumes:
            - /var/run/docker.sock:/tmp/docker.sock:ro
    wp_db:
        container_name: wpdb
        image: mysql:latest
        ports:
        - ${IP}:3306:3306
        command: '--default_authentication_plugin=mysql_native_password'
        volumes:
            - ./databases:/docker-entrypoint-initdb.d
            - wp_db_data:/var/lib/mysql
        restart: always
        environment:
            MYSQL_ROOT_PASSWORD: "${MYSQL_ROOT_PASSWORD}"
    pma:
        container_name: pma
        image: phpmyadmin/phpmyadmin
        environment:
            PMA_HOST: wp_db
            PMA_PORT: 3306
            MYSQL_ROOT_PASSWORD: "${MYSQL_ROOT_PASSWORD}"
        ports:
            - 8080:80
        links:
            - wp_db:wp_db
    ceu-wp:
        container_name: ceu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/conectados/end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${CEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-end-user-conectados.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    cwa-wp:
        container_name: cwa-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/conectados/web_admin:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${CWA_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-admin-conectados.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    cwp-wp:
        container_name: cwp-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/conectados/web_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${CWP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-partner-conectados.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    eeu-wp:
        container_name: eeu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/entertainer/end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${EEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-end-user-mg.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy      
    ewa-wp:
        container_name: ewa-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/entertainer/web_admin:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${EWA_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-admin-mg.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy   
    ewp-wp:
        container_name: ewp-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/entertainer/web_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${EWP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-partner-mg.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy   
    gap-wp:
        container_name: gap-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/generic/android_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${GAP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-android-partner.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    geu-wp:
        container_name: geu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/generic/end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${GEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-end-user.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy 
    gip-wp:
        container_name: gip-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/generic/ios_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${GIP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-ios-partner.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    gwp-wp:
        container_name: gwp-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/generic/web_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${GWP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-partner.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    gwt-wp:
        container_name: gwt-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/generic/web_tenant:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${GWT_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-tenant.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    iap-wp:
        container_name: iap-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/influencer/android_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${IAP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-android-partner-influencer.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    ieu-wp:
        container_name: ieu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/influencer/end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${IEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-end-user-influencer.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    iip-wp:
        container_name: iip-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/influencer/ios_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${IIP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-ios-partner-influencer.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    iweu-wp:
        container_name: iweu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/influencer/web_end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${IWEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-user-influencer.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    iwp-wp:
        container_name: iwp-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/influencer/web_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${IWP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-partner-influencer.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    lap-wp:
        container_name: lap-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/lovingmycustomers/android_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${LAP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-android-partner.lovingmycustomers.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    leu-wp:
        container_name: leu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/lovingmycustomers/end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${LEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-end-user.lovingmycustomers.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    lip-wp:
        container_name: lip-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/lovingmycustomers/ios_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${LIP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-ios-partner.lovingmycustomers.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    lwp-wp:
        container_name: lwp-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/lovingmycustomers/web_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${LWP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-partner.lovingmycustomers.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    lwt-wp:
        container_name: lwt-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/lovingmycustomers/web_tenant:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${LWT_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-tenant.lovingmycustomers.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    map-wp:
        container_name: map-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/mivida/android_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${MAP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-android-partner-mivida.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    meu-wp:
        container_name: meu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/mivida/end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${MEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-end-user-mivida.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    mip-wp:
        container_name: mip-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/mivida/ios_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${MIP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-ios-partner-mivida.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    mwp-wp:
        container_name: mwp-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/mivida/web_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${MWP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-partner-mivida.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    mwt-wp:
        container_name: mwt-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/mivida/web_tenant:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${MWT_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-web-tenant-mivida.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    seu-wp:
        container_name: seu-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/silverart/end_user:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${SEU_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-end-user-silverart.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    swa-wp:
        container_name: swa-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/silverart/web_admin:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${SWA_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-admin-silverart.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
    swp-wp:
        container_name: swp-wp
        image: wordpress:latest
        restart: always
        expose:
            - 80
        volumes:
            - ./web_data/silverart/web_partner:/var/www/html/
            - ./config/php.conf.ini:/usr/local/etc/php/conf.d/conf.ini
        environment:
            WORDPRESS_DB_HOST: wp_db
            WORDPRESS_DB_NAME: "${SWP_DB_NAME}"
            WORDPRESS_DB_USER: "${WORDPRESS_USER}"
            WORDPRESS_DB_PASSWORD: "${WORDPRESS_DB_PASS}"
            VIRTUAL_HOST: "help-artist-silverart.octopusspace.lan"
        depends_on:
            - wp_db
            - nginx-proxy
networks:
  default:
    external:
      name: nginx-proxy
volumes:
    wp_db_data:
